<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SafeStop - Login</title>

    <link rel="stylesheet" th:href="@{/css/login-style.css}">
</head>
<body>

<div class="container" id="container">

    <div class="form-container sign-up-container">
        <form th:action="@{/register}" th:object="${usuario}" method="post">
            <h1>Criar Conta</h1>
            <span>(Aguarde a aprovação de um admin)</span>

            <div th:if="${errorMessage}" class="error-message">
                <p th:text="${errorMessage}">Mensagem de erro aqui</p>
            </div>

            <input type="text" placeholder="Nome" th:field="*{nome}" required />
            <input type="email" placeholder="Email (será seu login)" th:field="*{email}" required />
            <input type="tel" placeholder="Telefone (só números, 11 dígitos)" th:field="*{telefone}"
                   required maxlength="11" minlength="11" pattern="[0-9]{11}"
                   title="O telefone deve ter exatamente 11 dígitos (DDD + número)."/>
            <input type="password" placeholder="Senha" th:field="*{senha}" required />
            <button type="submit">Registrar</button>
        </form>
    </div>

    <div class="form-container sign-in-container">
        <form th:action="@{/login}" method="post">
            <h1>Login SafeStop</h1>

            <div th:if="${successMessage}" class="success-message">
                <p th:text="${successMessage}">Mensagem de sucesso aqui</p>
            </div>

            <div th:if="${param.error}" class="error-message">
                <p>Usuário, senha ou status inválido.</p>
            </div>

            <input type="email" placeholder="Email" name="username" required />
            <input type="password" placeholder="Senha" name="password" required />
            <button type="submit">Entrar</button>
        </form>
    </div>

    <div class="overlay-container">
        <div class="overlay">
            <div class="overlay-panel overlay-left">
                <h1>Bem-vindo de Volta!</h1>
                <p>Para se manter conectado, faça login com sua conta SafeStop</p>
                <button class="ghost" id="signIn">Entrar</button>
            </div>
            <div class="overlay-panel overlay-right">
                <h1>Olá, Amigo!</h1>
                <p>Entre com seus dados e aguarde a aprovação para começar a jornada</p>
                <button class="ghost" id="signUp">Registrar-se</button>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/js/login-script.js}"></script>

</body>
</html>